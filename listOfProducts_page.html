<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>listOfProducts</title>
    <link rel="stylesheet" href="listOfProducts.css">
</head>
<script type="text/javascript">
    const baseURL = "http://172.188.26.52/api/";// comment this line to use in localhost environment
    // const baseURL = "http://localhost:3000/";//uncomment to use in localhost environment
    let Ptype;
    document.addEventListener('DOMContentLoaded', async ()=> {
        Ptype = await getItem();
        productFill(Ptype);
    }, false);
    async function getItem(){
        const url = new URL(window.location.href);
        const type = url.searchParams.get("type");
        let response = await fetch(baseURL+'list?type='+type);
        let data = response.json();
        return data;
    }
</script>
<body>
    <nav id="navbar">
        <ul>
            <div class="company_name">E - HUB</div>
            <div class="search">
                <input type="text" name="search" id="search" placeholder="Search item">
            </div>
            <li><a href="index.html">HOME</a> </li>
            <li><a href="merchant.html"target="_blank">CONTACT US</a></li>
            <li><a href="cart.html">CART</a></li>
        </ul>
        <div id="heading"></div>
    </nav>
    <aside>
        <div id="side">
            <div>
                <label for="sort">Sort by</label><br>
                <select name="sorting" id="sort" class="sortt" onChange="orderBy(value)">
                    <option value="none" id="none">Price</option>
                    <option value="lth" id="lth">Price(highest first)</option>
                    <option value="htl">Price(lowest first)</option>
                </select>
            </div>
            <div>
                <label for="fltr">Filter By</label><br>
                <select name="sorting" id="fltr" class="sortt" onchange="reload()">
                    <option value="tb">Top Brands</option>
                    <option value="l">Latest Model</option>
                    <option value="a">Availiable</option>
                </select>
            </div>
            <div><br>
                <label for="pr">Price Range</label><br>
                <select name="sorting" id="pr" class="sortt"onChange="sortByPrice(value)">
                    <option value="al">All Range</option>
                    <option value="00">20,000 and below</option>
                    <option value="20">20,000-45,000</option>
                    <option value="45">45,000 and above</option>
                </select>
            </div>
        </div>
    </aside>
    <section>
        <div id="productDetails">
            <ul class="products" id="ulList">
            </ul>
        </div>
    </section>
    <footer>
        <a href="#">FAQ</a>
        <a href="#">Contact Us</a>
        <a href="#">Terms of Use</a>
        <a href="#">Privacy Policy</a>
        <a href="#" class="copyright">&copy; Copyright</a>
    </footer>
</body>
<script>
</script>
<script src="listOfProducts.js"></script>
</html>